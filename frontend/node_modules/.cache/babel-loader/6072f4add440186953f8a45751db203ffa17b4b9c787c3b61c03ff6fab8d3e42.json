{"ast":null,"code":"var _jsxFileName = \"/Users/angel/Desktop/vscode python/vscode python/MISC/Chores/frontend/src/components/CalendarSettings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { calendarAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CalendarSettings = () => {\n  _s();\n  var _calendars$find, _config$reminder_sett, _config$reminder_sett2;\n  const [status, setStatus] = useState({});\n  const [config, setConfig] = useState({});\n  const [calendars, setCalendars] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [setupStep, setSetupStep] = useState('check-status');\n  const [authUrl, setAuthUrl] = useState('');\n\n  // Form state for configuration\n  const [configData, setConfigData] = useState({\n    enabled: false,\n    default_calendar_id: '',\n    reminder_settings: {\n      laundry_reminders: true,\n      chore_reminders: false,\n      reminder_minutes: [30, 10]\n    }\n  });\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const [statusResponse, configResponse] = await Promise.all([calendarAPI.getStatus(), calendarAPI.getConfig()]);\n      setStatus(statusResponse.data);\n      setConfig(configResponse.data);\n      setConfigData(configResponse.data);\n\n      // Determine setup step based on status\n      if (!statusResponse.data.google_api_available) {\n        setSetupStep('dependencies-missing');\n      } else if (!statusResponse.data.credentials_configured) {\n        setSetupStep('upload-credentials');\n      } else if (!statusResponse.data.oauth_completed) {\n        setSetupStep('oauth-setup');\n      } else if (statusResponse.data.fully_configured) {\n        setSetupStep('configure-settings');\n        // Load calendars if fully configured\n        try {\n          const calendarsResponse = await calendarAPI.getCalendarList();\n          setCalendars(calendarsResponse.data);\n        } catch (err) {\n          console.error('Failed to load calendars:', err);\n        }\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError('Failed to load data: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCredentialUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    try {\n      setError(null);\n      const fileContent = await file.text();\n      const credentials = JSON.parse(fileContent);\n      await calendarAPI.setupCredentials(credentials);\n      setSetupStep('oauth-setup');\n      loadData();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError('Failed to upload credentials: ' + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || err.message));\n    }\n  };\n  const startOAuthFlow = async () => {\n    try {\n      setError(null);\n      const response = await calendarAPI.getOAuthUrl();\n      setAuthUrl(response.data.auth_url);\n\n      // Open OAuth URL in a new window\n      window.open(response.data.auth_url, '_blank', 'width=500,height=600');\n\n      // Start polling to check if OAuth is complete\n      const checkOAuthInterval = setInterval(async () => {\n        try {\n          const statusResponse = await calendarAPI.getStatus();\n          if (statusResponse.data.oauth_completed) {\n            clearInterval(checkOAuthInterval);\n            setSetupStep('configure-settings');\n            loadData();\n          }\n        } catch (err) {\n          console.error('Error checking OAuth status:', err);\n        }\n      }, 2000);\n\n      // Stop polling after 5 minutes\n      setTimeout(() => clearInterval(checkOAuthInterval), 300000);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError('Failed to start OAuth flow: ' + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || err.message));\n    }\n  };\n  const handleConfigChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    if (name.includes('.')) {\n      // Handle nested properties\n      const [parent, child] = name.split('.');\n      setConfigData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: type === 'checkbox' ? checked : value\n        }\n      }));\n    } else {\n      setConfigData(prev => ({\n        ...prev,\n        [name]: type === 'checkbox' ? checked : value\n      }));\n    }\n  };\n  const handleReminderMinutesChange = (index, value) => {\n    const newMinutes = [...configData.reminder_settings.reminder_minutes];\n    newMinutes[index] = parseInt(value) || 0;\n    setConfigData(prev => ({\n      ...prev,\n      reminder_settings: {\n        ...prev.reminder_settings,\n        reminder_minutes: newMinutes\n      }\n    }));\n  };\n  const addReminderMinute = () => {\n    setConfigData(prev => ({\n      ...prev,\n      reminder_settings: {\n        ...prev.reminder_settings,\n        reminder_minutes: [...prev.reminder_settings.reminder_minutes, 15]\n      }\n    }));\n  };\n  const removeReminderMinute = index => {\n    setConfigData(prev => ({\n      ...prev,\n      reminder_settings: {\n        ...prev.reminder_settings,\n        reminder_minutes: prev.reminder_settings.reminder_minutes.filter((_, i) => i !== index)\n      }\n    }));\n  };\n  const saveConfiguration = async () => {\n    try {\n      setError(null);\n      await calendarAPI.saveConfig(configData);\n      setConfig(configData);\n      loadData();\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError('Failed to save configuration: ' + (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || err.message));\n    }\n  };\n  const resetIntegration = async () => {\n    if (!window.confirm('Are you sure you want to reset the Google Calendar integration? This will remove all credentials and configuration.')) {\n      return;\n    }\n\n    // Note: In a real implementation, you'd want an endpoint to clear credentials\n    setSetupStep('upload-credentials');\n    setConfigData({\n      enabled: false,\n      default_calendar_id: '',\n      reminder_settings: {\n        laundry_reminders: true,\n        chore_reminders: false,\n        reminder_minutes: [30, 10]\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading calendar settings...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-settings\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCC5 Google Calendar Integration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadData,\n          className: \"button secondary\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"setup-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Setup Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${status.google_api_available ? 'completed' : 'pending'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-indicator\",\n            children: status.google_api_available ? '✅' : '❌'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Google API Dependencies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${status.credentials_configured ? 'completed' : 'pending'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-indicator\",\n            children: status.credentials_configured ? '✅' : '⏳'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Credentials Uploaded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${status.oauth_completed ? 'completed' : 'pending'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-indicator\",\n            children: status.oauth_completed ? '✅' : '⏳'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"OAuth Authentication\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${status.fully_configured ? 'completed' : 'pending'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-indicator\",\n            children: status.fully_configured ? '✅' : '⏳'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Configuration Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"setup-content\",\n      children: [setupStep === 'dependencies-missing' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u26A0\\uFE0F Missing Dependencies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Google Calendar API dependencies are not installed. Please install them by running:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"pip install -r requirements.txt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Then restart the backend server.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), setupStep === 'upload-credentials' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"1. Upload Google API Credentials\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"To integrate with Google Calendar, you need to:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Go to the \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://console.cloud.google.com/\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"Google Cloud Console\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Create a new project or select an existing one\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Enable the Google Calendar API\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Create credentials (OAuth 2.0 Client ID)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Download the credentials JSON file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Upload it below\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"credentials-upload\",\n            className: \"button primary\",\n            children: \"Upload Credentials JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"credentials-upload\",\n            type: \"file\",\n            accept: \".json\",\n            onChange: handleCredentialUpload,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), setupStep === 'oauth-setup' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"2. Authorize Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Click the button below to authorize RoomieRoster to access your Google Calendar:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startOAuthFlow,\n          className: \"button primary\",\n          children: \"Authorize Google Calendar Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), authUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"oauth-instructions\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"A new window should have opened for authorization. If not, click \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: authUrl,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 85\n            }, this), \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"After authorizing, this page will automatically update.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), setupStep === 'configure-settings' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"3. Configure Calendar Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"enabled\",\n              checked: configData.enabled,\n              onChange: handleConfigChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), \"Enable Google Calendar Integration\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), configData.enabled && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Default Calendar:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"default_calendar_id\",\n              value: configData.default_calendar_id,\n              onChange: handleConfigChange,\n              className: \"input\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), calendars.map(calendar => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: calendar.id,\n                children: [calendar.name, \" \", calendar.primary ? '(Primary)' : '']\n              }, calendar.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reminder-settings\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Reminder Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"reminder_settings.laundry_reminders\",\n                  checked: configData.reminder_settings.laundry_reminders,\n                  onChange: handleConfigChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this), \"Create reminders for laundry slots\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"reminder_settings.chore_reminders\",\n                  checked: configData.reminder_settings.chore_reminders,\n                  onChange: handleConfigChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this), \"Create reminders for chore assignments\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Reminder Times (minutes before):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reminder-minutes\",\n                children: [configData.reminder_settings.reminder_minutes.map((minutes, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reminder-minute-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: minutes,\n                    onChange: e => handleReminderMinutesChange(index, e.target.value),\n                    min: \"1\",\n                    max: \"10080\",\n                    className: \"input small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => removeReminderMinute(index),\n                    className: \"button small danger\",\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: addReminderMinute,\n                  className: \"button small secondary\",\n                  children: \"Add Reminder Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: saveConfiguration,\n              className: \"button primary\",\n              children: \"Save Configuration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"danger-zone\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Danger Zone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetIntegration,\n            className: \"button danger\",\n            children: \"Reset Integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-small\",\n            children: \"This will remove all Google Calendar credentials and configuration.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-status\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Current Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"Integration Enabled:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-value ${config.enabled ? 'success' : 'inactive'}`,\n            children: config.enabled ? 'Yes' : 'No'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"Default Calendar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-value\",\n            children: config.default_calendar_id ? ((_calendars$find = calendars.find(c => c.id === config.default_calendar_id)) === null || _calendars$find === void 0 ? void 0 : _calendars$find.name) || 'Unknown' : 'Not set'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"Laundry Reminders:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-value ${(_config$reminder_sett = config.reminder_settings) !== null && _config$reminder_sett !== void 0 && _config$reminder_sett.laundry_reminders ? 'success' : 'inactive'}`,\n            children: (_config$reminder_sett2 = config.reminder_settings) !== null && _config$reminder_sett2 !== void 0 && _config$reminder_sett2.laundry_reminders ? 'Enabled' : 'Disabled'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(CalendarSettings, \"ZurRZZ2dHFkK+lvhkWXf4teBhtU=\");\n_c = CalendarSettings;\nexport default CalendarSettings;\nvar _c;\n$RefreshReg$(_c, \"CalendarSettings\");","map":{"version":3,"names":["React","useState","useEffect","calendarAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","CalendarSettings","_s","_calendars$find","_config$reminder_sett","_config$reminder_sett2","status","setStatus","config","setConfig","calendars","setCalendars","loading","setLoading","error","setError","setupStep","setSetupStep","authUrl","setAuthUrl","configData","setConfigData","enabled","default_calendar_id","reminder_settings","laundry_reminders","chore_reminders","reminder_minutes","loadData","statusResponse","configResponse","Promise","all","getStatus","getConfig","data","google_api_available","credentials_configured","oauth_completed","fully_configured","calendarsResponse","getCalendarList","err","console","_err$response","_err$response$data","response","message","handleCredentialUpload","event","file","target","files","fileContent","text","credentials","JSON","parse","setupCredentials","_err$response2","_err$response2$data","startOAuthFlow","getOAuthUrl","auth_url","window","open","checkOAuthInterval","setInterval","clearInterval","setTimeout","_err$response3","_err$response3$data","handleConfigChange","e","name","value","type","checked","includes","parent","child","split","prev","handleReminderMinutesChange","index","newMinutes","parseInt","addReminderMinute","removeReminderMinute","filter","_","i","saveConfiguration","saveConfig","_err$response4","_err$response4$data","resetIntegration","confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","href","rel","htmlFor","id","accept","onChange","style","display","map","calendar","primary","minutes","min","max","find","c","_c","$RefreshReg$"],"sources":["/Users/angel/Desktop/vscode python/vscode python/MISC/Chores/frontend/src/components/CalendarSettings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { calendarAPI } from '../services/api';\n\nconst CalendarSettings = () => {\n  const [status, setStatus] = useState({});\n  const [config, setConfig] = useState({});\n  const [calendars, setCalendars] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [setupStep, setSetupStep] = useState('check-status');\n  const [authUrl, setAuthUrl] = useState('');\n  \n  // Form state for configuration\n  const [configData, setConfigData] = useState({\n    enabled: false,\n    default_calendar_id: '',\n    reminder_settings: {\n      laundry_reminders: true,\n      chore_reminders: false,\n      reminder_minutes: [30, 10]\n    }\n  });\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const [statusResponse, configResponse] = await Promise.all([\n        calendarAPI.getStatus(),\n        calendarAPI.getConfig()\n      ]);\n      \n      setStatus(statusResponse.data);\n      setConfig(configResponse.data);\n      setConfigData(configResponse.data);\n      \n      // Determine setup step based on status\n      if (!statusResponse.data.google_api_available) {\n        setSetupStep('dependencies-missing');\n      } else if (!statusResponse.data.credentials_configured) {\n        setSetupStep('upload-credentials');\n      } else if (!statusResponse.data.oauth_completed) {\n        setSetupStep('oauth-setup');\n      } else if (statusResponse.data.fully_configured) {\n        setSetupStep('configure-settings');\n        // Load calendars if fully configured\n        try {\n          const calendarsResponse = await calendarAPI.getCalendarList();\n          setCalendars(calendarsResponse.data);\n        } catch (err) {\n          console.error('Failed to load calendars:', err);\n        }\n      }\n      \n    } catch (err) {\n      setError('Failed to load data: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCredentialUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    try {\n      setError(null);\n      const fileContent = await file.text();\n      const credentials = JSON.parse(fileContent);\n      \n      await calendarAPI.setupCredentials(credentials);\n      setSetupStep('oauth-setup');\n      loadData();\n    } catch (err) {\n      setError('Failed to upload credentials: ' + (err.response?.data?.error || err.message));\n    }\n  };\n\n  const startOAuthFlow = async () => {\n    try {\n      setError(null);\n      const response = await calendarAPI.getOAuthUrl();\n      setAuthUrl(response.data.auth_url);\n      \n      // Open OAuth URL in a new window\n      window.open(response.data.auth_url, '_blank', 'width=500,height=600');\n      \n      // Start polling to check if OAuth is complete\n      const checkOAuthInterval = setInterval(async () => {\n        try {\n          const statusResponse = await calendarAPI.getStatus();\n          if (statusResponse.data.oauth_completed) {\n            clearInterval(checkOAuthInterval);\n            setSetupStep('configure-settings');\n            loadData();\n          }\n        } catch (err) {\n          console.error('Error checking OAuth status:', err);\n        }\n      }, 2000);\n      \n      // Stop polling after 5 minutes\n      setTimeout(() => clearInterval(checkOAuthInterval), 300000);\n      \n    } catch (err) {\n      setError('Failed to start OAuth flow: ' + (err.response?.data?.error || err.message));\n    }\n  };\n\n  const handleConfigChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    \n    if (name.includes('.')) {\n      // Handle nested properties\n      const [parent, child] = name.split('.');\n      setConfigData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: type === 'checkbox' ? checked : value\n        }\n      }));\n    } else {\n      setConfigData(prev => ({\n        ...prev,\n        [name]: type === 'checkbox' ? checked : value\n      }));\n    }\n  };\n\n  const handleReminderMinutesChange = (index, value) => {\n    const newMinutes = [...configData.reminder_settings.reminder_minutes];\n    newMinutes[index] = parseInt(value) || 0;\n    setConfigData(prev => ({\n      ...prev,\n      reminder_settings: {\n        ...prev.reminder_settings,\n        reminder_minutes: newMinutes\n      }\n    }));\n  };\n\n  const addReminderMinute = () => {\n    setConfigData(prev => ({\n      ...prev,\n      reminder_settings: {\n        ...prev.reminder_settings,\n        reminder_minutes: [...prev.reminder_settings.reminder_minutes, 15]\n      }\n    }));\n  };\n\n  const removeReminderMinute = (index) => {\n    setConfigData(prev => ({\n      ...prev,\n      reminder_settings: {\n        ...prev.reminder_settings,\n        reminder_minutes: prev.reminder_settings.reminder_minutes.filter((_, i) => i !== index)\n      }\n    }));\n  };\n\n  const saveConfiguration = async () => {\n    try {\n      setError(null);\n      await calendarAPI.saveConfig(configData);\n      setConfig(configData);\n      loadData();\n    } catch (err) {\n      setError('Failed to save configuration: ' + (err.response?.data?.error || err.message));\n    }\n  };\n\n  const resetIntegration = async () => {\n    if (!window.confirm('Are you sure you want to reset the Google Calendar integration? This will remove all credentials and configuration.')) {\n      return;\n    }\n    \n    // Note: In a real implementation, you'd want an endpoint to clear credentials\n    setSetupStep('upload-credentials');\n    setConfigData({\n      enabled: false,\n      default_calendar_id: '',\n      reminder_settings: {\n        laundry_reminders: true,\n        chore_reminders: false,\n        reminder_minutes: [30, 10]\n      }\n    });\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading calendar settings...</div>;\n  }\n\n  return (\n    <div className=\"calendar-settings\">\n      <div className=\"header\">\n        <h2>📅 Google Calendar Integration</h2>\n        <div className=\"header-actions\">\n          <button onClick={loadData} className=\"button secondary\">\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      {/* Setup Steps */}\n      <div className=\"setup-progress\">\n        <h3>Setup Progress</h3>\n        <div className=\"progress-steps\">\n          <div className={`step ${status.google_api_available ? 'completed' : 'pending'}`}>\n            <span className=\"step-indicator\">\n              {status.google_api_available ? '✅' : '❌'}\n            </span>\n            <span>Google API Dependencies</span>\n          </div>\n          <div className={`step ${status.credentials_configured ? 'completed' : 'pending'}`}>\n            <span className=\"step-indicator\">\n              {status.credentials_configured ? '✅' : '⏳'}\n            </span>\n            <span>Credentials Uploaded</span>\n          </div>\n          <div className={`step ${status.oauth_completed ? 'completed' : 'pending'}`}>\n            <span className=\"step-indicator\">\n              {status.oauth_completed ? '✅' : '⏳'}\n            </span>\n            <span>OAuth Authentication</span>\n          </div>\n          <div className={`step ${status.fully_configured ? 'completed' : 'pending'}`}>\n            <span className=\"step-indicator\">\n              {status.fully_configured ? '✅' : '⏳'}\n            </span>\n            <span>Configuration Complete</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Setup Content */}\n      <div className=\"setup-content\">\n        {setupStep === 'dependencies-missing' && (\n          <div className=\"setup-step\">\n            <h3>⚠️ Missing Dependencies</h3>\n            <p>Google Calendar API dependencies are not installed. Please install them by running:</p>\n            <code>pip install -r requirements.txt</code>\n            <p>Then restart the backend server.</p>\n          </div>\n        )}\n\n        {setupStep === 'upload-credentials' && (\n          <div className=\"setup-step\">\n            <h3>1. Upload Google API Credentials</h3>\n            <p>To integrate with Google Calendar, you need to:</p>\n            <ol>\n              <li>Go to the <a href=\"https://console.cloud.google.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Google Cloud Console</a></li>\n              <li>Create a new project or select an existing one</li>\n              <li>Enable the Google Calendar API</li>\n              <li>Create credentials (OAuth 2.0 Client ID)</li>\n              <li>Download the credentials JSON file</li>\n              <li>Upload it below</li>\n            </ol>\n            \n            <div className=\"file-upload\">\n              <label htmlFor=\"credentials-upload\" className=\"button primary\">\n                Upload Credentials JSON\n              </label>\n              <input\n                id=\"credentials-upload\"\n                type=\"file\"\n                accept=\".json\"\n                onChange={handleCredentialUpload}\n                style={{ display: 'none' }}\n              />\n            </div>\n          </div>\n        )}\n\n        {setupStep === 'oauth-setup' && (\n          <div className=\"setup-step\">\n            <h3>2. Authorize Access</h3>\n            <p>Click the button below to authorize RoomieRoster to access your Google Calendar:</p>\n            \n            <button onClick={startOAuthFlow} className=\"button primary\">\n              Authorize Google Calendar Access\n            </button>\n            \n            {authUrl && (\n              <div className=\"oauth-instructions\">\n                <p>A new window should have opened for authorization. If not, click <a href={authUrl} target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n                <p>After authorizing, this page will automatically update.</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {setupStep === 'configure-settings' && (\n          <div className=\"setup-step\">\n            <h3>3. Configure Calendar Settings</h3>\n            \n            <div className=\"form-group\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  name=\"enabled\"\n                  checked={configData.enabled}\n                  onChange={handleConfigChange}\n                />\n                Enable Google Calendar Integration\n              </label>\n            </div>\n\n            {configData.enabled && (\n              <>\n                <div className=\"form-group\">\n                  <label>Default Calendar:</label>\n                  <select\n                    name=\"default_calendar_id\"\n                    value={configData.default_calendar_id}\n                    onChange={handleConfigChange}\n                    className=\"input\"\n                  >\n                    <option value=\"\">Select a calendar</option>\n                    {calendars.map(calendar => (\n                      <option key={calendar.id} value={calendar.id}>\n                        {calendar.name} {calendar.primary ? '(Primary)' : ''}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"reminder-settings\">\n                  <h4>Reminder Settings</h4>\n                  \n                  <div className=\"form-group\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        name=\"reminder_settings.laundry_reminders\"\n                        checked={configData.reminder_settings.laundry_reminders}\n                        onChange={handleConfigChange}\n                      />\n                      Create reminders for laundry slots\n                    </label>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        name=\"reminder_settings.chore_reminders\"\n                        checked={configData.reminder_settings.chore_reminders}\n                        onChange={handleConfigChange}\n                      />\n                      Create reminders for chore assignments\n                    </label>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>Reminder Times (minutes before):</label>\n                    <div className=\"reminder-minutes\">\n                      {configData.reminder_settings.reminder_minutes.map((minutes, index) => (\n                        <div key={index} className=\"reminder-minute-item\">\n                          <input\n                            type=\"number\"\n                            value={minutes}\n                            onChange={(e) => handleReminderMinutesChange(index, e.target.value)}\n                            min=\"1\"\n                            max=\"10080\"\n                            className=\"input small\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() => removeReminderMinute(index)}\n                            className=\"button small danger\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                      ))}\n                      <button\n                        type=\"button\"\n                        onClick={addReminderMinute}\n                        className=\"button small secondary\"\n                      >\n                        Add Reminder Time\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"form-actions\">\n                  <button onClick={saveConfiguration} className=\"button primary\">\n                    Save Configuration\n                  </button>\n                </div>\n              </>\n            )}\n\n            <div className=\"danger-zone\">\n              <h4>Danger Zone</h4>\n              <button onClick={resetIntegration} className=\"button danger\">\n                Reset Integration\n              </button>\n              <p className=\"text-small\">This will remove all Google Calendar credentials and configuration.</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Current Status */}\n      <div className=\"current-status\">\n        <h3>Current Status</h3>\n        <div className=\"status-grid\">\n          <div className=\"status-item\">\n            <span className=\"status-label\">Integration Enabled:</span>\n            <span className={`status-value ${config.enabled ? 'success' : 'inactive'}`}>\n              {config.enabled ? 'Yes' : 'No'}\n            </span>\n          </div>\n          <div className=\"status-item\">\n            <span className=\"status-label\">Default Calendar:</span>\n            <span className=\"status-value\">\n              {config.default_calendar_id ? \n                calendars.find(c => c.id === config.default_calendar_id)?.name || 'Unknown' : \n                'Not set'\n              }\n            </span>\n          </div>\n          <div className=\"status-item\">\n            <span className=\"status-label\">Laundry Reminders:</span>\n            <span className={`status-value ${config.reminder_settings?.laundry_reminders ? 'success' : 'inactive'}`}>\n              {config.reminder_settings?.laundry_reminders ? 'Enabled' : 'Disabled'}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarSettings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}