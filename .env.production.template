# ========================================================================
# RoomieRoster Production Environment Configuration Template
# ========================================================================
#
# This file provides a template for all required environment variables
# for production deployment on Render.com.
#
# INSTRUCTIONS:
# 1. Copy this file to .env for local testing
# 2. Replace all placeholder values with actual production values
# 3. Set these variables in Render dashboard (NOT in this file)
# 4. NEVER commit .env files with real credentials to Git
#
# ========================================================================

# ========================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ========================================================================

# PostgreSQL connection string from Neon or other provider
# Example: postgresql://user:password@host:5432/dbname?sslmode=require
#
# Get from: https://console.neon.tech → Connection Details
# IMPORTANT: Must include ?sslmode=require for security
DATABASE_URL=postgresql://neondb_owner:YOUR_PASSWORD@ep-XXXXX.us-east-2.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# ========================================================================
# GOOGLE OAUTH CREDENTIALS (REQUIRED)
# ========================================================================

# Google OAuth 2.0 Client ID
# Get from: https://console.cloud.google.com → APIs & Services → Credentials
# Format: XXXXXXXXX-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.apps.googleusercontent.com
GOOGLE_CLIENT_ID=1013918805389-odufp26cjhjibbd1l1iujvpl77d3g21e.apps.googleusercontent.com

# Google OAuth 2.0 Client Secret
# Get from: Same location as Client ID
# Format: GOCSPX-XXXXXXXXXXXXXXXXXXXXXXXX
GOOGLE_CLIENT_SECRET=GOCSPX-YourClientSecretHere

# ========================================================================
# FLASK SECURITY (REQUIRED)
# ========================================================================

# Flask secret key for session encryption
# Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
# IMPORTANT: Use a strong, random 64-character hex string
# NEVER use default values like 'dev' or 'secret'
FLASK_SECRET_KEY=your_64_character_hex_string_here_replace_with_actual_secret

# ========================================================================
# ACCESS CONTROL (REQUIRED)
# ========================================================================

# Comma-separated list of allowed email addresses
# Only these users can log in to the application
# Format: email1@domain.com,email2@domain.com,email3@domain.com
# IMPORTANT: No spaces between emails
ROOMIE_WHITELIST=user1@gmail.com,user2@gmail.com,user3@gmail.com,user4@gmail.com

# ========================================================================
# FLASK ENVIRONMENT (REQUIRED)
# ========================================================================

# Flask environment mode
# PRODUCTION VALUE: production
# NEVER set to 'development' in production deployment
FLASK_ENV=production

# ========================================================================
# OPTIONAL CONFIGURATION
# ========================================================================

# OAuth token scope relaxation (recommended to prevent scope errors)
# Default: 1 (enabled)
OAUTHLIB_RELAX_TOKEN_SCOPE=1

# Custom base URL (only needed if using custom domain)
# Leave commented out if using default Render URL (*.onrender.com)
# Example: https://your-custom-domain.com
# APP_BASE_URL=https://roomieroster.example.com

# ========================================================================
# ZEITH PRODUCTIVITY FEATURES
# ========================================================================

# No additional configuration required for Zeith features
# Pomodoro, Todo, Mood, and Analytics use the main DATABASE_URL
# All features require authentication (GOOGLE_CLIENT_ID/SECRET)

# ========================================================================
# ADVANCED CONFIGURATION (Optional)
# ========================================================================

# Analytics caching (improves performance for analytics dashboard)
# Default: true (recommended for production)
# ENABLE_ANALYTICS_CACHE=true
# ANALYTICS_CACHE_TTL=300

# ========================================================================
# AUTO-SET BY RENDER (DO NOT SET MANUALLY)
# ========================================================================

# These variables are automatically set by Render.com
# Including them here may cause deployment issues
#
# PORT - Automatically assigned by Render
# RENDER_SERVICE_NAME - Your service name on Render
# RENDER - Set to 'true' when running on Render
# RENDER_GIT_COMMIT - Current Git commit SHA
# RENDER_GIT_BRANCH - Current Git branch

# ========================================================================
# SECURITY WARNINGS
# ========================================================================

# ❌ NEVER SET THESE IN PRODUCTION:
#
# FLASK_DEBUG=true                  # Exposes sensitive debug information
# DEV_AUTH_BYPASS=true              # Bypasses authentication entirely
# TESTING=true                      # Disables security features
#
# These are automatically blocked in production deployments

# ========================================================================
# VALIDATION
# ========================================================================

# To validate your configuration before deploying:
#
# 1. Set all variables in this file (for local testing)
# 2. Run validation script:
#    $ python backend/scripts/validate_env.py
#
# 3. Or run full pre-deployment check:
#    $ python backend/scripts/pre_deploy_check.py
#
# Expected output: ✅ All checks passed

# ========================================================================
# DEPLOYMENT CHECKLIST
# ========================================================================

# Before deploying to Render:
#
# ✅ DATABASE_URL configured with valid Neon PostgreSQL connection
# ✅ DATABASE_URL includes ?sslmode=require
# ✅ GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET from Google Console
# ✅ Google OAuth redirect URI includes: https://your-app.onrender.com/api/auth/callback
# ✅ FLASK_SECRET_KEY is 64+ character random hex string (NOT placeholder)
# ✅ ROOMIE_WHITELIST includes all roommate email addresses
# ✅ FLASK_ENV=production (NOT development)
# ✅ DEV_AUTH_BYPASS is NOT set
# ✅ FLASK_DEBUG is NOT set
#
# For detailed deployment guide, see:
# docs/RENDER_DEPLOYMENT_GUIDE.md
